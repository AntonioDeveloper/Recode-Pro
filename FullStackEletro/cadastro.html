<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contato - Full Stack Eletro</title>
    <link rel="stylesheet" type="text/css" href="css/style.css" />  
    
  </head>

  <body>
    <!-- Início do menu -->
    <nav class="menu">
      <a href="index.html">
        <img src="./imagens/logo.jpg" alt="logo da loja" width="100px" />
      </a>

      <a href="produtos.html"> Produtos </a>

      <a href="lojas.html"> Nossas Lojas </a>

      <a href="contato.html"> Contato </a>

      <a href="cadastro.html"> Cadastre-se </a>
    </nav>
    <!-- Fim do menu -->

    <header>
      <h2>Cadastre-se</h2>
    </header>
    <hr />

    <!-- Formulário -->

    <div class="formulario">
      <form id='frm1'>
        <label for='nome'>Nome:</label>
        <input type="text" style="width: 400px" id='nome' name='name'/> <br><br>
        <label for='phone'>Telefone:</label>
        <input id='phone' type='number' name='phone'> <br><br>
        <label for='email'>Email:</label>
        <input id='email' type='text' name='email'>
        <br><br>
        <input type="submit" value="Enviar" id="enviar" onclick="getInputValue()"/>        
      </form>
    </div>

    <!-- Formulário -->
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />

    <footer class="rodape">
      <h4>Formas de Pagamento</h4>
      <img src="./imagens/f-pagamento.jpg" alt="formas de pagamento" />
      <p>&copy 2020 Recode Pro.</p>
    </footer>
    <script>
      function getInputValue(){
          /*Ao selecionar o elemento HTML do formulário, posso 
          obter os valores dos inputs e armazená-los em um objeto. */

          let formVal = document.getElementById("frm1");
          let nameVal = formVal.name.value;
          let emailVal = formVal.email.value;
          let phoneVal = formVal.phone.value;
          
          let obj = {
            name: nameVal,
            email: emailVal,
            phone: phoneVal
          }
/* Aqui, crio um objeto da classe XMLHttpRequest para solicitar que os dados
sejam enviados ao endereço onde serão tratados, através do método POST.  */
let xhr = new XMLHttpRequest();
        xhr.open('POST', 'http://localhost:3002', true);
        xhr.setRequestHeader('Content-Type', 'application/json', 'charset=UTF-8');        
        xhr.send(JSON.stringify(obj));
      }

  </script>
  </body>
</html>
